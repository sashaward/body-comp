(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},11773,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(28732),s=e.i(22016);function i({onClearAll:e,hasEntries:a}){return(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(s.default,{href:"/",className:"flex items-center gap-2 text-[var(--text-secondary)] hover:text-[var(--text-primary)] transition-colors",children:[(0,t.jsx)(r.ChevronLeftIcon,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"text-sm font-medium tracking-wider",children:"Back"})]}),(0,t.jsx)("h1",{className:"text-lg font-semibold text-[var(--text-primary)]",children:"All entries"}),a&&e?(0,t.jsx)("button",{type:"button",onClick:e,title:"Clear all data",className:"p-2 text-[var(--text-secondary)] hover:text-[var(--delta-negative)] hover:bg-white/5 rounded-[var(--radius-button)] transition-all",children:(0,t.jsx)(r.TrashIcon,{className:"w-5 h-5"})}):(0,t.jsx)("div",{className:"w-9"})]})}var l=e.i(13135),n=e.i(65776),d=e.i(3053),o=e.i(1851);function c(){let[e,s]=(0,a.useState)([]),[c,u]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[h,p]=(0,a.useState)({}),[g,y]=(0,a.useState)(null),[f,j]=(0,a.useState)(null),[w,N]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),M=(0,a.useCallback)(()=>{s([...(0,d.getEntries)()].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()))},[]);(0,a.useEffect)(()=>{M()},[M]),(0,a.useEffect)(()=>{if(!m)return;let e=requestAnimationFrame(()=>{requestAnimationFrame(()=>x(null))});return()=>cancelAnimationFrame(e)},[m]);let F=(e,t,a)=>{p(r=>({...r,[e]:{...r[e],[t]:a}}))},S=async e=>{let t=h[e];if(!t)return;let{date:a,bodyWeight:r,skeletalMuscleMass:s,bodyFatMass:i,bodyFatPercentage:l}=t;if(!a||null==r||null==s||null==i||null==l)return void j("All fields are required");if(r<=0||s<=0||i<=0||l<=0)return void j("Values must be greater than 0");j(null),y(e);try{(0,d.updateEntry)(e,{date:a,bodyWeight:Number(r),skeletalMuscleMass:Number(s),bodyFatMass:Number(i),bodyFatPercentage:Number(l)})?(M(),u(null),p(t=>{let a={...t};return delete a[e],a})):j("Failed to save - possible date conflict")}catch{j("Failed to save entry")}finally{y(null)}},A=async e=>{(0,d.saveEntry)(e),M()};return(0,t.jsxs)("div",{className:"min-h-screen p-6 sm:p-10",children:[(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"rounded-[var(--radius-card)] p-8 sm:p-10 space-y-8 opacity-0 animate-fade-in glass border border-white/[0.08] shadow-[var(--shadow-card)]",children:[(0,t.jsx)(i,{onClearAll:()=>N(!0),hasEntries:e.length>0}),f&&(0,t.jsx)("div",{className:"p-4 bg-[var(--glass-active-bg)] border border-[var(--delta-negative)]/30 rounded-[var(--radius-button)] text-sm text-[var(--delta-negative)]",children:f}),(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsxs)("div",{className:"rounded-[var(--radius-metric)] bg-[var(--glass-active-bg)] border border-white/10 overflow-hidden",children:[(0,t.jsxs)("button",{onClick:()=>{c===e.id?(v(e.id),u(null)):(v(c),u(e.id),x(e.id),h[e.id]||p(t=>({...t,[e.id]:{date:e.date,bodyWeight:e.bodyWeight,skeletalMuscleMass:e.skeletalMuscleMass,bodyFatMass:e.bodyFatMass,bodyFatPercentage:e.bodyFatPercentage}})))},className:"w-full text-left px-5 py-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsx)("span",{className:"w-[7.5rem] shrink-0 text-[var(--text-primary)] font-medium tabular-nums",children:(0,o.format)(new Date(e.date),"MMM d, yyyy")}),(0,t.jsxs)("span",{className:"text-[var(--text-secondary)] text-sm tabular-nums",children:[e.bodyWeight," kg · ",e.bodyFatPercentage,"% fat"]})]}),(0,t.jsx)(r.ChevronDownIcon,{className:`w-5 h-5 shrink-0 text-[var(--text-muted)] transition-transform duration-300 ease-out ${c===e.id?"":"-rotate-90"}`})]}),(c===e.id||m===e.id||b===e.id)&&h[e.id]&&(0,t.jsx)("div",{className:`overflow-hidden transition-all ${c===e.id&&!m?"duration-300 ease-out max-h-[500px] opacity-100":"duration-150 ease-in max-h-0 opacity-0"}`,onTransitionEnd:()=>{b===e.id&&b&&(p(e=>{let t={...e};return delete t[b],t}),v(null))},children:(0,t.jsxs)("div",{className:"px-5 pb-5 pt-2 border-t border-white/10 space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[var(--text-metric-label)] tracking-wider mb-2",children:"Date"}),(0,t.jsx)("input",{type:"date",value:h[e.id]?.date??"",onChange:t=>F(e.id,"date",t.target.value),className:"w-full px-4 py-3 bg-[var(--bg-primary)] border border-white/10 rounded-[var(--radius-button)] text-[var(--text-primary)] text-sm"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[var(--text-metric-label)] tracking-wider mb-2",children:"Weight (kg)"}),(0,t.jsx)("input",{type:"number",step:"0.1",value:h[e.id]?.bodyWeight??"",onChange:t=>F(e.id,"bodyWeight",t.target.value),className:"w-full px-4 py-3 bg-[var(--bg-primary)] border border-white/10 rounded-[var(--radius-button)] text-[var(--text-primary)] text-sm tabular-nums"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[var(--text-metric-label)] tracking-wider mb-2",children:"Muscle (kg)"}),(0,t.jsx)("input",{type:"number",step:"0.1",value:h[e.id]?.skeletalMuscleMass??"",onChange:t=>F(e.id,"skeletalMuscleMass",t.target.value),className:"w-full px-4 py-3 bg-[var(--bg-primary)] border border-white/10 rounded-[var(--radius-button)] text-[var(--text-primary)] text-sm tabular-nums"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[var(--text-metric-label)] tracking-wider mb-2",children:"Fat mass (kg)"}),(0,t.jsx)("input",{type:"number",step:"0.1",value:h[e.id]?.bodyFatMass??"",onChange:t=>F(e.id,"bodyFatMass",t.target.value),className:"w-full px-4 py-3 bg-[var(--bg-primary)] border border-white/10 rounded-[var(--radius-button)] text-[var(--text-primary)] text-sm tabular-nums"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-semibold text-[var(--text-metric-label)] tracking-wider mb-2",children:"Body fat (%)"}),(0,t.jsx)("input",{type:"number",step:"0.1",value:h[e.id]?.bodyFatPercentage??"",onChange:t=>F(e.id,"bodyFatPercentage",t.target.value),className:"w-full px-4 py-3 bg-[var(--bg-primary)] border border-white/10 rounded-[var(--radius-button)] text-[var(--text-primary)] text-sm tabular-nums"})]})]}),(0,t.jsx)("button",{onClick:()=>S(e.id),disabled:g===e.id,className:"flex items-center gap-2 bg-[var(--color-accent)] text-[#0F1A1E] px-5 py-3 rounded-[var(--radius-button)] font-semibold text-sm hover:brightness-110 disabled:opacity-50 transition-all shadow-[var(--shadow-accent)]",children:g===e.id?"Saving...":"Save"})]})})]},e.id))}),0===e.length&&(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("p",{className:"text-[var(--text-primary)] font-medium",children:"No entries yet"}),(0,t.jsx)("p",{className:"text-[var(--text-secondary)] text-sm mt-2",children:"Track your body composition from the dashboard — add your first weigh-in to get started."}),(0,t.jsx)("button",{type:"button",onClick:()=>C(!0),className:"inline-flex items-center gap-2 mt-6 bg-[var(--color-accent)] text-[#0F1A1E] px-5 py-2.5 rounded-[var(--radius-button)] font-semibold text-sm hover:brightness-110 transition-all shadow-[var(--shadow-accent)]",children:"Add first weigh-in"})]})]})}),(0,t.jsx)(l.default,{isOpen:w,onClose:()=>N(!1),onConfirm:()=>{(0,d.clearAllEntries)(),M()},message:"Clear all stored data? This cannot be undone. Export from the dashboard first if you want to keep a copy.",confirmLabel:"Delete data"}),(0,t.jsx)(n.default,{isOpen:k,onClose:()=>C(!1),onSave:A})]})}e.s(["default",()=>c],11773)}]);